#!/usr/bin/env python

import os
import urlparse
import logging

log = logging.getLogger(__name__)

databuf = """
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
0123456789012345678901234567890123456789012345678
"""

print "Content-type: text/plain"
print

queryString = os.environ["QUERY_STRING"]
args = urlparse.parse_qs(queryString)

length = int(args.get('length', ['0'])[0])

log.info("Requested data length :%d" %(length))

if length > 100000:
	n100k = length/100000
	rem = length%100000
	f = open('100k.bin','r')
	s100k = f.read()
	f.close()
	for ii in range(n100k): 
		print s100k
	print s100k[0:rem]
else:
	full = length/500
	rem = length%500
	for ii in range(full):
		print databuf[0:500]
	print databuf[0:rem]

